#!/bin/bash

echo "üöÄ –ó–∞–ø—É—Å–∫ ProSkills backend..."

# 1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ .env
if [ ! -f ".env" ]; then
  echo "‚ùå .env —Ñ–∞–π–ª –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. –°—Ç–≤–æ—Ä–∏ –π–æ–≥–æ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º."
  exit 1
fi

# 2. –ê–∫—Ç–∏–≤–∞—Ü—ñ—è poetry-–æ—Ç–æ—á–µ–Ω–Ω—è
echo "üì¶ –ê–∫—Ç–∏–≤–∞—Ü—ñ—è poetry-—Å–µ—Ä–µ–¥–æ–≤–∏—â–∞..."
poetry install

# 3. –ó–∞–ø—É—Å–∫ FastAPI
echo "üß† –ó–∞–ø—É—Å–∫ FastAPI (uvicorn)..."
poetry run uvicorn backend.main:app --reload --host 0.0.0.0 --port 5001

# 4. –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
echo "‚úÖ –°–µ—Ä–≤–µ—Ä –∑—É–ø–∏–Ω–µ–Ω–æ –∞–±–æ –∑–∞–≤–µ—Ä—à–∏–≤—Å—è."

